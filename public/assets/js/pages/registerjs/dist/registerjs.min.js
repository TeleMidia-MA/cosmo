function formPasswordRescue(){}formPasswordRescue.prototype.initialize=function(){$("#btnRescuePassword").click(function(){cosmo.rescue.validate()&&cosmo.rescue.sendMail()})},formPasswordRescue.prototype.validate=function(){var o=this.createObject();return""===o.username.trim()?(cosmo.dialog.error("Erro","O campo Email é obrigatório!"),!1):!!this.validateEmail(o.username)||(cosmo.dialog.error("Erro","O campo Email informado é inválido!"),!1)},formPasswordRescue.prototype.createObject=function(){var o={};return o.username=$("#frmrescue-email").val(),o},formPasswordRescue.prototype.sendMail=function(){var o=this.createObject(),e=function(o){cosmo.dialog.success("Recuperar Senha!",o.message,function(){window.location.href=o.callback})},r=function(o){cosmo.dialog.error("Erro",o.responseJSON)},s=cosmo.ajax.getDefaults();return s.url=cosmo.urlbase+cosmo.routes_name.REGISTER_RESCUE_PASSWORD,s.method="POST",s.data=o,s.type="json",s.sucess=e,s.error=r,cosmo.ajax.send(s),!0},formPasswordRescue.prototype.validateEmail=function(o){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o)},window.cosmo=window.cosmo||{},window.cosmo.rescue=window.cosmo.rescue||new formPasswordRescue,$("document").ready(function(){window.cosmo.rescue.initialize()});
function formRegister(){}formRegister.prototype.initialize=function(){$("#btnCreateAcount").click(function(){cosmo.register.validate()&&cosmo.register.save()}),$("#frmregister-email").blur(function(){cosmo.register.validateUsername($(this).val())})},formRegister.prototype.save=function(){var o=this.createObject(),r=function(o){cosmo.dialog.success("Seja bem vindo!",o.message,function(){window.location.href=o.callback})},e=function(o){cosmo.dialog.error("Erro",o.responseJSON[0])},t=cosmo.ajax.getDefaults();return t.url=cosmo.urlbase+cosmo.routes_name.REGISTER_SAVE,t.method="POST",t.data=o,t.type="json",t.sucess=r,t.error=e,cosmo.ajax.send(t),!0},formRegister.prototype.validateUsername=function(o){if(!this.validateEmail(o))return!1;var r="username="+o,e=function(){},t=function(o){cosmo.dialog.error("Erro",o.responseJSON[0])},a=cosmo.ajax.getDefaults();return a.url=cosmo.urlbase+cosmo.routes_name.AVALIABLE_USERNAME_COSMO,a.method="GET",a.data=r,a.type="json",a.sucess=e,a.error=t,cosmo.ajax.send(a),!0},formRegister.prototype.validateEmail=function(o){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o)},formRegister.prototype.createObject=function(){var o={};return o.username=$("#frmregister-email").val(),o.fullname=$("#frmregister-fullname").val(),o.password=$("#frmregister-password").val(),o},formRegister.prototype.validate=function(){var o=this.createObject();return""===o.username.trim()?(cosmo.dialog.error("Erro","O campo Email é obrigatório!"),!1):this.validateEmail(o.username)?""===o.fullname.trim()?(cosmo.dialog.error("Erro","O campo Nome Completo é obrigatório!"),!1):""===o.password.trim()?(cosmo.dialog.error("Erro","O campo Senha é obrigatório!"),!1):!(o.password.length<=3)||(cosmo.dialog.error("Erro","O campo Senha deve possuir mais do que 3 caracteres!"),!1):(cosmo.dialog.error("Erro","O campo Email informado é inválido!"),!1)},window.cosmo=window.cosmo||{},window.cosmo.register=window.cosmo.register||new formRegister,$("document").ready(function(){window.cosmo.register.initialize()});